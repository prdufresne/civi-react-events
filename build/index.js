(()=>{"use strict";var e={n:t=>{var i=t&&t.__esModule?()=>t.default:()=>t;return e.d(i,{a:i}),i},d:(t,i)=>{for(var a in i)e.o(i,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:i[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.React;var i=e.n(t);function a(e){const{startDate:i,endDate:a}=e,n=e.subClass?" "+e.subClass:"";let s=i.weekday,c=i.day,l="";return a&&i.date!=a.date&&(s=`${i.weekday.substring(0,3)}-${a.weekday.substring(0,3)}`,c+=`-${parseInt(a.day)}`,l=" multiday"),(0,t.createElement)("div",{className:"civi-react-events-cell-date"+n},(0,t.createElement)("div",{className:"civi-react-events-weekday"},s),(0,t.createElement)("div",{className:"civi-react-events-day"+l},c))}function n(e){console.log(e.participants);const i=["Open-Run","Member-Run","Camping"].includes(e.event.style);return(0,t.createElement)("div",{className:"civi-react-events-modal",onClick:e.closeModal},(0,t.createElement)("div",{className:"civi-react-events-modal-content"},(0,t.createElement)("h3",null,"Event Participants"),(0,t.createElement)("table",null,(0,t.createElement)("thead",null,(0,t.createElement)("tr",null,(0,t.createElement)("th",null,"Name"),(0,t.createElement)("th",null,"Attendee Role"),(0,t.createElement)("th",null,"Status"),i&&(0,t.createElement)("th",null,"Vehicle"))),(0,t.createElement)("tbody",null,e.participants.map(((a,n)=>{const s=[];a.vehicle_year&&s.push(a.vehicle_year),a.make&&s.push(a.make),a.model&&s.push(a.model),a.license_plate&&s.push(`(${a.license_plate})`);const c=s.join(" "),l=a.image&&"0"!=a.image;return console.log("participant.image:",a.image),(0,t.createElement)(t.Fragment,null,(0,t.createElement)("tr",null,(0,t.createElement)("td",null,a.name),(0,t.createElement)("td",null,a["role_id:label"]&&a["role_id:label"].join(", ")),(0,t.createElement)("td",null,a["status_id:label"]),i&&(0,t.createElement)("td",null,c,l&&(0,t.createElement)("img",{className:"civi-react-events-icon",src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48IS0tISBGb250IEF3ZXNvbWUgUHJvIDYuMy4wIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlIChDb21tZXJjaWFsIExpY2Vuc2UpIENvcHlyaWdodCAyMDIzIEZvbnRpY29ucywgSW5jLiAtLT48cGF0aCBkPSJNNDQ4IDgwYzguOCAwIDE2IDcuMiAxNiAxNlY0MTUuOGwtNS02LjUtMTM2LTE3NmMtNC41LTUuOS0xMS42LTkuMy0xOS05LjNzLTE0LjQgMy40LTE5IDkuM0wyMDIgMzQwLjdsLTMwLjUtNDIuN0MxNjcgMjkxLjcgMTU5LjggMjg4IDE1MiAyODhzLTE1IDMuNy0xOS41IDEwLjFsLTgwIDExMkw0OCA0MTYuM2wwLS4zVjk2YzAtOC44IDcuMi0xNiAxNi0xNkg0NDh6TTY0IDMyQzI4LjcgMzIgMCA2MC43IDAgOTZWNDE2YzAgMzUuMyAyOC43IDY0IDY0IDY0SDQ0OGMzNS4zIDAgNjQtMjguNyA2NC02NFY5NmMwLTM1LjMtMjguNy02NC02NC02NEg2NHptODAgMTkyYTQ4IDQ4IDAgMSAwIDAtOTYgNDggNDggMCAxIDAgMCA5NnoiLz48L3N2Zz4=",onClick:t=>e.showHideImage(t,n)}))),e.participantImage==n&&(0,t.createElement)("tr",null,(0,t.createElement)("td",{colSpan:4},(0,t.createElement)("img",{className:"civi-react-events-participant-image",src:a.image,onClick:t=>e.showHideImage(t,void 0)}))))})))),(0,t.createElement)("div",{className:"civi-react-events-button",onClick:e.closeModal},"Close")))}function s(e){const i=e.event.style,a="Member-Run"==i||"Open-Run"==i,n=this.state.is_member&&a;return(0,t.createElement)("div",{className:"civi-react-events-modal",onClick:e.closeModal},(0,t.createElement)("div",{className:"civi-react-events-modal-content"},n?(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{dangerouslySetInnerHTML:{__html:`${e.event.intro_text}\n                        <h3>${e.event.confirm_title}</h3>\n                        ${e.event.confirm_text}`}}),(0,t.createElement)("div",{className:"civi-react-events-button",onClick:t=>e.register(t,e.event.id)},"Register"),(0,t.createElement)("div",{className:"civi-react-events-button"},"Cancel")):(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{className:"civi-react-events-button",onClick:t=>e.handleNavigate(e.event.registration_url)},"Register"),(0,t.createElement)("div",{className:"civi-react-events-button"},"Cancel"))))}function c(e){const i=/^<(\w+)><img.*><\/\1>/g.test(e.event.description)?"overlay":"";return(0,t.createElement)("div",{className:"civi-react-events-modal",onClick:e.closeModal},(0,t.createElement)("div",{className:"civi-react-events-modal-content",id:e.event.style},(0,t.createElement)(a,{subClass:i,startDate:e.event.start_date,endDate:e.event.end_date}),(0,t.createElement)("div",{style:{clear:"both"},dangerouslySetInnerHTML:{__html:e.event.description}}),(0,t.createElement)("br",null),e.isMember&&(0,t.createElement)(t.Fragment,null,e.event.is_registered?(0,t.createElement)("div",{className:"civi-react-events-button",onClick:t=>e.closeAndDeregister(t,e.event.id)},"Unregister"):(0,t.createElement)("div",{className:"civi-react-events-button",onClick:t=>e.closeAndRegister(t,e.event.id)},"Register")),(0,t.createElement)("div",{className:"civi-react-events-button",onClick:e.closeModal},"Close")))}class l extends i().Component{constructor(e){super(e),this.state={title:"Civi React Calendar",events:[],event_types:[],showFilter:!1,filters:{applied:{event_type:!1,registration:!1,event_full:!1},event_type:{},registration:{registered:!1,not_registered:!1},event_full:{available:!1,full:!1}},participantsList:void 0,eventToRegister:void 0,eventDetails:void 0},this.changeHandler=this.changeHandler.bind(this),this.clearFilters=this.clearFilters.bind(this),this.closeParticipantsModal=this.closeParticipantsModal.bind(this),this.closeRegistrationModal=this.closeRegistrationModal.bind(this),this.closeEventDetails=this.closeEventDetails.bind(this),this.registerForEvent=this.registerForEvent.bind(this),this.showHideImage=this.showHideImage.bind(this),this.loadData=this.loadData.bind(this)}componentDidMount(){this.loadData()}loadData(){this.fetchEvents().then((e=>{const{events:t,event_types:i,user_status:a,ical_link:n}=e,s=this.state.filters;i.forEach((e=>{e.value in s.event_type||(s.event_type[e.value]=!1)})),this.setState({events:t,event_types:i,ical_link:n,filters:s,is_member:a.is_member,is_trail_leader:a.is_trail_leader,is_executive:a.is_executive})}))}fetchEvents=()=>new Promise(((e,t)=>{jQuery.post(my_ajax_object.ajax_url,{action:"civi_react_events",request:"event-list",data:"This is data passed to the backed"},(function(t){return e(JSON.parse(t))})).fail((function(e){return t(e)}))}));showEventParticipants=(e,t)=>{e.stopPropagation(),this.fetchParticipants(t.id).then((e=>{this.setState({participantsList:e,participantListEvent:t})}))};fetchParticipants=e=>new Promise(((t,i)=>{const a={action:"civi_react_events",request:"participant-list",data:e};jQuery.post(my_ajax_object.ajax_url,a,(function(e){return t(JSON.parse(e))})).fail((function(e){return i(e)}))}));showHideImage(e,t){e.stopPropagation(),t==this.state.participantImage&&(t=void 0),this.setState({participantImage:t})}changeHandler(e){const{name:t,id:i,checked:a}=e.target,{filters:n}=this.state;n[t][i.toString()]=a,n.applied[t]=this.anyChecked(n[t]),this.setState({filters:n})}clearFilters(e){const{filters:t}=this.state;Object.keys(t).forEach((e=>{Object.keys(t[e]).forEach((i=>{t[e][i]=!1}))})),this.setState({filters:t})}closeParticipantsModal(e){e.stopPropagation(),this.setState({participantsList:void 0,participantImage:void 0})}registrationClickHandler(e,t,i=!1){e.stopPropagation(),this.setState({eventToRegister:t})}showDetailsClickHandler(e,t){e.stopPropagation(),t.description?this.setState({eventDetails:t}):this.handleNavigate(t.event_url)}closeRegistrationModal(e){e.stopPropagation(),this.setState({eventToRegister:void 0})}closeEventDetails(e){e.stopPropagation(),this.setState({eventDetails:void 0})}closeAndRegister(e,t){this.closeEventDetails(e),this.registerForEvent(e,t)}closeAndDeregister(e,t){this.closeEventDetails(e),this.deregisterFromEvent(e,t)}registerForEvent(e,t){const i={action:"civi_react_events",request:"register-for-event",data:t},a=this.loadData;jQuery.post(my_ajax_object.ajax_url,i,(function(e){a()})).fail((function(e){console.log("Could not register:",e)})),this.closeRegistrationModal(e)}deregisterFromEvent(e,t){const i={action:"civi_react_events",request:"deregister-from-event",data:t},a=this.loadData;jQuery.post(my_ajax_object.ajax_url,i,(function(e){a()})).fail((function(e){console.log("Could not deregister:",e)})),this.closeRegistrationModal(e)}anyChecked(e){let t=!1;return e&&Object.keys(e).forEach((i=>{t=t||e[i]})),t}handleNavigate(e){window.location.href=e}render(){const{event_types:e,events:i,showFilter:l,filters:M,ical_link:g}=this.state;let r="";return(0,t.createElement)("div",{className:"civi-react-events"},(0,t.createElement)("a",{className:"civi-react-events-ical",href:g},(0,t.createElement)("img",{src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+DQo8c3ZnDQogICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iDQogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIg0KICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIg0KICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyINCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyINCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCINCiAgIHhtbG5zOmlua3NjYXBlPSJodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy9uYW1lc3BhY2VzL2lua3NjYXBlIg0KICAgdmlld0JveD0iMCAwIDQ0OCA1MTIiDQogICB2ZXJzaW9uPSIxLjEiDQogICBpZD0ic3ZnNCINCiAgIHNvZGlwb2RpOmRvY25hbWU9ImNhbGVuZGFyLWxpbmsuc3ZnIg0KICAgaW5rc2NhcGU6dmVyc2lvbj0iMS4wICg0MDM1YTRmYjQ5LCAyMDIwLTA1LTAxKSI+DQogIDxtZXRhZGF0YQ0KICAgICBpZD0ibWV0YWRhdGExMCI+DQogICAgPHJkZjpSREY+DQogICAgICA8Y2M6V29yaw0KICAgICAgICAgcmRmOmFib3V0PSIiPg0KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4NCiAgICAgICAgPGRjOnR5cGUNCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4NCiAgICAgICAgPGRjOnRpdGxlIC8+DQogICAgICA8L2NjOldvcms+DQogICAgPC9yZGY6UkRGPg0KICA8L21ldGFkYXRhPg0KICA8ZGVmcw0KICAgICBpZD0iZGVmczgiIC8+DQogIDxzb2RpcG9kaTpuYW1lZHZpZXcNCiAgICAgaW5rc2NhcGU6ZG9jdW1lbnQtcm90YXRpb249IjAiDQogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiINCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiDQogICAgIGJvcmRlcm9wYWNpdHk9IjEiDQogICAgIG9iamVjdHRvbGVyYW5jZT0iMTAiDQogICAgIGdyaWR0b2xlcmFuY2U9IjEwIg0KICAgICBndWlkZXRvbGVyYW5jZT0iMTAiDQogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwIg0KICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIg0KICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjIxMTIiDQogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9IjEwODkiDQogICAgIGlkPSJuYW1lZHZpZXc2Ig0KICAgICBzaG93Z3JpZD0iZmFsc2UiDQogICAgIGlua3NjYXBlOnpvb209IjEuNjAxNTYyNSINCiAgICAgaW5rc2NhcGU6Y3g9IjIyNCINCiAgICAgaW5rc2NhcGU6Y3k9IjI1NiINCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjAiDQogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIg0KICAgICBpbmtzY2FwZTp3aW5kb3ctbWF4aW1pemVkPSIwIg0KICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJzdmc0IiAvPg0KICA8IS0tISBGb250IEF3ZXNvbWUgRnJlZSA2LjMuMCBieSBAZm9udGF3ZXNvbWUgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbSBMaWNlbnNlIC0gaHR0cHM6Ly9mb250YXdlc29tZS5jb20vbGljZW5zZS9mcmVlIChJY29uczogQ0MgQlkgNC4wLCBGb250czogU0lMIE9GTCAxLjEsIENvZGU6IE1JVCBMaWNlbnNlKSBDb3B5cmlnaHQgMjAyMyBGb250aWNvbnMsIEluYy4gLS0+DQogIDxwYXRoDQogICAgIGQ9Ik0xNTIgMjRjMC0xMy4zLTEwLjctMjQtMjQtMjRzLTI0IDEwLjctMjQgMjRWNjRINjRDMjguNyA2NCAwIDkyLjcgMCAxMjh2MTYgNDhWNDQ4YzAgMzUuMyAyOC43IDY0IDY0IDY0SDM4NGMzNS4zIDAgNjQtMjguNyA2NC02NFYxOTIgMTQ0IDEyOGMwLTM1LjMtMjguNy02NC02NC02NEgzNDRWMjRjMC0xMy4zLTEwLjctMjQtMjQtMjRzLTI0IDEwLjctMjQgMjRWNjRIMTUyVjI0ek00OCAxOTJINDAwVjQ0OGMwIDguOC03LjIgMTYtMTYgMTZINjRjLTguOCAwLTE2LTcuMi0xNi0xNlYxOTJ6Ig0KICAgICBpZD0icGF0aDIiIC8+DQogIDxwYXRoDQogICAgIGlkPSJwYXRoODM1Ig0KICAgICBkPSJtIDM1Ny42NDQ5OCwzMzMuNDg0NTcgYyAyOS4wNjQ0MiwtMjkuMDY0NDMgMjkuMDY0NDIsLTc2LjEzMzM4IDAsLTEwNS4xOTc4MiAtMjUuNzIwNzQsLTI1LjcyMDc0IC02Ni4yNTY2NCwtMjkuMDY0NDQgLTk1LjgzNTQ5LC03LjkyMiBsIC0wLjgyMzA2LDAuNTY1ODYgYyAtNy40MDc1OCw1LjI5ODQ4IC05LjEwNTE1LDE1LjU4Njc3IC0zLjgwNjY4LDIyLjk0MjkxIDUuMjk4NDcsNy4zNTYxMyAxNS41ODY3Nyw5LjEwNTE0IDIyLjk0MjkxLDMuODA2NjYgbCAwLjgyMzA1LC0wLjU2NTg1IGMgMTYuNTEyNzMsLTExLjc4MDEgMzkuMDk1NTQsLTkuOTI4MjEgNTMuMzk2MjcsNC40MjM5NiAxNi4yMDQwNywxNi4yMDQwNyAxNi4yMDQwNyw0Mi40MzkyMyAwLDU4LjY0MzI5IGwgLTU3LjcxNzM1LDU3LjgyMDIzIGMgLTE2LjIwNDA2LDE2LjIwNDA2IC00Mi40MzkyMiwxNi4yMDQwNiAtNTguNjQzMjksMCAtMTQuMzUyMTYsLTE0LjM1MjE3IC0xNi4yMDQwNiwtMzYuOTM0OTkgLTQuNDIzOTYsLTUzLjM5NjI1IGwgMC41NjU4NiwtMC44MjMwNyBjIDUuMjk4NDcsLTcuNDA3NTggMy41NDk0NiwtMTcuNjk1ODcgLTMuODA2NjcsLTIyLjk0MjkgLTcuMzU2MTMsLTUuMjQ3MDMgLTE3LjY5NTg3LC0zLjU0OTQ2IC0yMi45NDI5LDMuODA2NjYgbCAtMC41NjU4NiwwLjgyMzA4IGMgLTIxLjE5Mzg5LDI5LjUyNzQgLTE3Ljg1MDE5LDcwLjA2MzI5IDcuODcwNTUsOTUuNzg0MDMgMjkuMDY0NDQsMjkuMDY0NDMgNzYuMTMzMzgsMjkuMDY0NDMgMTA1LjE5NzgyLDAgeiBNIDkwLjM1NTAzOSwzMjEuNDQ3MjcgYyAtMjkuMDY0NDM5LDI5LjA2NDQzIC0yOS4wNjQ0MzksNzYuMTMzMzkgMCwxMDUuMTk3ODMgMjUuNzIwNzQxLDI1LjcyMDc0IDY2LjI1NjYyMSwyOS4wNjQ0MyA5NS44MzU0ODEsNy45MjE5OSBsIDAuODIzMDYsLTAuNTY1ODYgYyA3LjQwNzU3LC01LjI5ODQ3IDkuMTA1MTQsLTE1LjU4Njc3IDMuODA2NjcsLTIyLjk0MjkgLTUuMjk4NDgsLTcuMzU2MTMgLTE1LjU4Njc3LC05LjEwNTE1IC0yMi45NDI4OSwtMy44MDY2NyBsIC0wLjgyMzA4LDAuNTY1ODUgYyAtMTYuNTEyNzEsMTEuNzgwMTEgLTM5LjA5NTUyLDkuOTI4MiAtNTMuMzk2MjUsLTQuNDIzOTcgLTE2LjIwNDA2NiwtMTYuMjU1NSAtMTYuMjA0MDY2LC00Mi40OTA2NSAwLC01OC42OTQ3MyBsIDU3LjcxNzM0LC01Ny43Njg3NyBjIDE2LjIwNDA3LC0xNi4yMDQwNyA0Mi40MzkyMywtMTYuMjA0MDcgNTguNjQzMjgsMCAxNC4zNTIxNywxNC4zNTIxNyAxNi4yMDQwNywzNi45MzQ5OCA0LjQyMzk3LDUzLjQ0NzY5IGwgLTAuNTY1ODUsMC44MjMwNyBjIC01LjI5ODQ4LDcuNDA3NTcgLTMuNTQ5NDYsMTcuNjk1ODYgMy44MDY2NiwyMi45NDI5IDcuMzU2MTQsNS4yNDcwMyAxNy42OTU4OCwzLjU0OTQ2IDIyLjk0MjkxLC0zLjgwNjY3IGwgMC41NjU4NiwtMC44MjMwNiBjIDIxLjE5Mzg4LC0yOS41Nzg4NiAxNy44NTAxOCwtNzAuMTE0NzQgLTcuODcwNTYsLTk1LjgzNTQ4IC0yOS4wNjQ0MywtMjkuMDY0NDQgLTc2LjEzMzM4LC0yOS4wNjQ0NCAtMTA1LjE5NzgyLDAgeiINCiAgICAgc3R5bGU9InN0cm9rZS13aWR0aDowLjUxNDQxNSIgLz4NCjwvc3ZnPg0K"}),"Copy this link to subscribe to this calendar"),this.state.participantsList?(0,t.createElement)(n,{closeModal:this.closeParticipantsModal,showHideImage:this.showHideImage,participantImage:this.state.participantImage,participants:this.state.participantsList,event:this.state.participantListEvent}):"",this.state.eventToRegister?(0,t.createElement)(s,{event:this.state.eventToRegister,isMember:this.state.isMember,closeModal:this.closeRegistrationModal,register:this.registerForEvent,handleNavigate:this.handleNavigate}):"",this.state.eventDetails?(0,t.createElement)(c,{closeModal:this.closeEventDetails,closeAndRegister:this.closeAndRegister,closeAndDeregister:this.closeAndDeregister,isMember:this.state.isMember,event:this.state.eventDetails}):"",M&&(0,t.createElement)("div",{className:"civi-react-events-filter-block"},(0,t.createElement)("div",{className:"civi-react-events-button right",onClick:()=>this.setState({showFilter:!l})},l?"Hide Filters":"Show Filters"),(0,t.createElement)("div",{className:"civi-react-events-filters "+(l?"":"hide")},(0,t.createElement)("div",{className:"civi-react-events-filters-group"},e.map(((e,i)=>(0,t.createElement)(t.Fragment,null,(0,t.createElement)("input",{type:"checkbox",name:"event_type",id:e.value,onChange:this.changeHandler,checked:M.event_type[e.value]}),(0,t.createElement)("label",null,e.label),(0,t.createElement)("br",null))))),(0,t.createElement)("div",{className:"civi-react-events-filters-group"},(0,t.createElement)("input",{type:"checkbox",name:"registration",id:"registered",onChange:this.changeHandler,checked:M.registration.registered}),(0,t.createElement)("label",null,"Registered"),(0,t.createElement)("br",null),(0,t.createElement)("input",{type:"checkbox",name:"registration",id:"not_registered",onChange:this.changeHandler,checked:M.registration.not_registered}),(0,t.createElement)("label",null,"Not Registered"),(0,t.createElement)("br",null),(0,t.createElement)("input",{type:"checkbox",name:"event_full",id:"available",onChange:this.changeHandler,checked:M.event_full.available}),(0,t.createElement)("label",null,"Available Events"),(0,t.createElement)("br",null),(0,t.createElement)("input",{type:"checkbox",name:"event_full",id:"full",onChange:this.changeHandler,checked:M.event_full.full}),(0,t.createElement)("label",null,"Full Events"),(0,t.createElement)("br",null)),(0,t.createElement)("div",{className:"civi-react-events-button right",onClick:this.clearFilters},"Clear Filters"))),i.map(((e,i)=>{if((!M.applied.event_type||M.event_type[e.event_type_id.toString()])&&(!M.applied.registration||M.registration[e.is_registered?"registered":"not_registered"])&&(!M.applied.event_full||M.event_full[e.is_full?"full":"available"])){const n=e.style,s="Member-Run"==n||"Open-Run"==n,c=e.is_online_registration&&(this.state.is_executive&&"AGM"==n||this.state.is_member&&s),l=e.is_online_registration&&!e.is_full&&!e.is_registered&&(!("Member-Run"==n)||"Member-Run"==n&&this.state.is_member),{start_date:M,end_date:g}=e;let N=!1;return M.month!=r&&(r=M.month,N=!0),(0,t.createElement)(t.Fragment,null,N&&(0,t.createElement)("h3",null,r),(0,t.createElement)("div",{index:i,id:n,className:"civi-react-events-event",onClick:t=>this.showDetailsClickHandler(t,e)},(0,t.createElement)(a,{startDate:M,endDate:g}),(0,t.createElement)("div",{className:"civi-react-events-content-column"},(0,t.createElement)("div",{className:"civi-react-events-actions"},l&&(0,t.createElement)("div",{className:"civi-react-events-button",onClick:t=>this.registrationClickHandler(t,e,s)},"Register"),c&&(0,t.createElement)("img",{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tISBGb250IEF3ZXNvbWUgRnJlZSA2LjMuMCBieSBAZm9udGF3ZXNvbWUgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbSBMaWNlbnNlIC0gaHR0cHM6Ly9mb250YXdlc29tZS5jb20vbGljZW5zZS9mcmVlIChJY29uczogQ0MgQlkgNC4wLCBGb250czogU0lMIE9GTCAxLjEsIENvZGU6IE1JVCBMaWNlbnNlKSBDb3B5cmlnaHQgMjAyMyBGb250aWNvbnMsIEluYy4gLS0+PHBhdGggZD0iTTcyIDg4YTU2IDU2IDAgMSAxIDExMiAwQTU2IDU2IDAgMSAxIDcyIDg4ek02NCAyNDUuN0M1NCAyNTYuOSA0OCAyNzEuOCA0OCAyODhzNiAzMS4xIDE2IDQyLjNWMjQ1Ljd6bTE0NC40LTQ5LjNDMTc4LjcgMjIyLjcgMTYwIDI2MS4yIDE2MCAzMDRjMCAzNC4zIDEyIDY1LjggMzIgOTAuNVY0MTZjMCAxNy43LTE0LjMgMzItMzIgMzJIOTZjLTE3LjcgMC0zMi0xNC4zLTMyLTMyVjM4OS4yQzI2LjIgMzcxLjIgMCAzMzIuNyAwIDI4OGMwLTYxLjkgNTAuMS0xMTIgMTEyLTExMmgzMmMyNCAwIDQ2LjIgNy41IDY0LjQgMjAuM3pNNDQ4IDQxNlYzOTQuNWMyMC0yNC43IDMyLTU2LjIgMzItOTAuNWMwLTQyLjgtMTguNy04MS4zLTQ4LjQtMTA3LjdDNDQ5LjggMTgzLjUgNDcyIDE3NiA0OTYgMTc2aDMyYzYxLjkgMCAxMTIgNTAuMSAxMTIgMTEyYzAgNDQuNy0yNi4yIDgzLjItNjQgMTAxLjJWNDE2YzAgMTcuNy0xNC4zIDMyLTMyIDMySDQ4MGMtMTcuNyAwLTMyLTE0LjMtMzItMzJ6bTgtMzI4YTU2IDU2IDAgMSAxIDExMiAwQTU2IDU2IDAgMSAxIDQ1NiA4OHpNNTc2IDI0NS43djg0LjdjMTAtMTEuMyAxNi0yNi4xIDE2LTQyLjNzLTYtMzEuMS0xNi00Mi4zek0zMjAgMzJhNjQgNjQgMCAxIDEgMCAxMjggNjQgNjQgMCAxIDEgMC0xMjh6TTI0MCAzMDRjMCAxNi4yIDYgMzEgMTYgNDIuM1YyNjEuN2MtMTAgMTEuMy0xNiAyNi4xLTE2IDQyLjN6bTE0NC00Mi4zdjg0LjdjMTAtMTEuMyAxNi0yNi4xIDE2LTQyLjNzLTYtMzEuMS0xNi00Mi4zek00NDggMzA0YzAgNDQuNy0yNi4yIDgzLjItNjQgMTAxLjJWNDQ4YzAgMTcuNy0xNC4zIDMyLTMyIDMySDI4OGMtMTcuNyAwLTMyLTE0LjMtMzItMzJWNDA1LjJjLTM3LjgtMTgtNjQtNTYuNS02NC0xMDEuMmMwLTYxLjkgNTAuMS0xMTIgMTEyLTExMmgzMmM2MS45IDAgMTEyIDUwLjEgMTEyIDExMnoiLz48L3N2Zz4=",onClick:t=>this.showEventParticipants(t,e)}),e.is_registered&&(0,t.createElement)("img",{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NDggNTEyIj48IS0tISBGb250IEF3ZXNvbWUgRnJlZSA2LjMuMCBieSBAZm9udGF3ZXNvbWUgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbSBMaWNlbnNlIC0gaHR0cHM6Ly9mb250YXdlc29tZS5jb20vbGljZW5zZS9mcmVlIChJY29uczogQ0MgQlkgNC4wLCBGb250czogU0lMIE9GTCAxLjEsIENvZGU6IE1JVCBMaWNlbnNlKSBDb3B5cmlnaHQgMjAyMyBGb250aWNvbnMsIEluYy4gLS0+PHBhdGggZD0iTTE3MC41IDUxLjZMMTUxLjUgODBoMTQ1bC0xOS0yOC40Yy0xLjUtMi4yLTQtMy42LTYuNy0zLjZIMTc3LjFjLTIuNyAwLTUuMiAxLjMtNi43IDMuNnptMTQ3LTI2LjZMMzU0LjIgODBIMzY4aDQ4IDhjMTMuMyAwIDI0IDEwLjcgMjQgMjRzLTEwLjcgMjQtMjQgMjRoLThWNDMyYzAgNDQuMi0zNS44IDgwLTgwIDgwSDExMmMtNDQuMiAwLTgwLTM1LjgtODAtODBWMTI4SDI0Yy0xMy4zIDAtMjQtMTAuNy0yNC0yNFMxMC43IDgwIDI0IDgwaDhIODAgOTMuOGwzNi43LTU1LjFDMTQwLjkgOS40IDE1OC40IDAgMTc3LjEgMGg5My43YzE4LjcgMCAzNi4yIDkuNCA0Ni42IDI0Ljl6TTgwIDEyOFY0MzJjMCAxNy43IDE0LjMgMzIgMzIgMzJIMzM2YzE3LjcgMCAzMi0xNC4zIDMyLTMyVjEyOEg4MHptODAgNjRWNDAwYzAgOC44LTcuMiAxNi0xNiAxNnMtMTYtNy4yLTE2LTE2VjE5MmMwLTguOCA3LjItMTYgMTYtMTZzMTYgNy4yIDE2IDE2em04MCAwVjQwMGMwIDguOC03LjIgMTYtMTYgMTZzLTE2LTcuMi0xNi0xNlYxOTJjMC04LjggNy4yLTE2IDE2LTE2czE2IDcuMiAxNiAxNnptODAgMFY0MDBjMCA4LjgtNy4yIDE2LTE2IDE2cy0xNi03LjItMTYtMTZWMTkyYzAtOC44IDcuMi0xNiAxNi0xNnMxNiA3LjIgMTYgMTZ6Ii8+PC9zdmc+",onClick:t=>this.deregisterFromEvent(t,e.id)})),(0,t.createElement)("div",{className:"civi-react-events-title"},e.title,e.is_online_registration&&(e.is_full?(0,t.createElement)("div",{className:"civi-react-events-pill full"},"Full"):(0,t.createElement)("div",{className:"civi-react-events-pill"},`${e.participants}/${e.max_participants}`)),e.is_registered&&(0,t.createElement)("div",{className:"civi-react-events-pill registered"},"Registered")),(0,t.createElement)("div",{className:"civi-react-events-description"},e.summary))))}})))}}const M=l,g=window.wp.element,r=document.getElementById("civi-react-events");r&&(0,g.render)((0,t.createElement)(M,null),r)})();